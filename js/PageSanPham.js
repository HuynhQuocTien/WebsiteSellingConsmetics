var listDSSP = [{"MaSP":"NRK","TenSP":"Mặt nạ Naruko","LoaiSP":"Chăm sóc da","ThanhPhan":"Ceramides, Dimethicone, Retinoids, Kojic Acid, Hyaluronic Acid, Salicylic Acid, Vitamin C, Benzoyl Peroxide, Arbutin","CongDung":"Ngăn ngừa khô da, làm chậm tiến trình lão hóa, ngăn ngừa và hỗ trợ điều trị mụn, bảo vệ da khỏi các tác nhân bên ngoài, ngăn ngừa kích ứng da, kiểm soát dầu thừa hiệu quả","GiaBan":"30000","SoLuong":"5","DonViTinh":"25 ml","HinhAnh":".\\img\\MatNa_NRK.png"},
    {"MaSP":"EL","TenSP":"Xịt khoáng Evoderm","LoaiSP":"Chăm sóc da","ThanhPhan":"Ceramides, Dimethicone, Retinoids, Kojic Acid, Hyaluronic Acid, Salicylic Acid, Vitamin C, Benzoyl Peroxide, Arbutin","CongDung":"Ngăn ngừa khô da, làm chậm tiến trình lão hóa, ngăn ngừa và hỗ trợ điều trị mụn, bảo vệ da khỏi các tác nhân bên ngoài, ngăn ngừa kích ứng da, kiểm soát dầu thừa hiệu quả","GiaBan":"259000","SoLuong":"7","DonViTinh":"400 ml","HinhAnh":".\\img\\XitKhoang_EL.png"},
    {"MaSP":"SP","TenSP":"Sữa dưỡng da Simple","LoaiSP":"Chăm sóc da","ThanhPhan":"Ceramides, Dimethicone, Retinoids, Kojic Acid, Hyaluronic Acid, Salicylic Acid, Vitamin C, Benzoyl Peroxide, Arbutin","CongDung":"Ngăn ngừa khô da, làm chậm tiến trình lão hóa, ngăn ngừa và hỗ trợ điều trị mụn, bảo vệ da khỏi các tác nhân bên ngoài, ngăn ngừa kích ứng da, kiểm soát dầu thừa hiệu quả","GiaBan":"168000","SoLuong":"15","DonViTinh":"125 ml","HinhAnh":".\\img\\SuaDuongDa_SP.png"},
    {"MaSP":"PCL","TenSP":"Kem dưỡng da Peacholic","LoaiSP":"Chăm sóc da","ThanhPhan":"Ceramides, Dimethicone, Retinoids, Kojic Acid, Hyaluronic Acid, Salicylic Acid, Vitamin C, Benzoyl Peroxide, Arbutin","CongDung":"Ngăn ngừa khô da, làm chậm tiến trình lão hóa, ngăn ngừa và hỗ trợ điều trị mụn, bảo vệ da khỏi các tác nhân bên ngoài, ngăn ngừa kích ứng da, kiểm soát dầu thừa hiệu quả","GiaBan":"450000","SoLuong":"34","DonViTinh":"100 ml","HinhAnh":".\\img\\KemDuongDa_PCL.png"},
    {"MaSP":"KR","TenSP":"Kem dưỡng ẩm Klairs","LoaiSP":"Chăm sóc da","ThanhPhan":"Ceramides, Dimethicone, Retinoids, Kojic Acid, Hyaluronic Acid, Salicylic Acid, Vitamin C, Benzoyl Peroxide, Arbutin","CongDung":"Ngăn ngừa khô da, làm chậm tiến trình lão hóa, ngăn ngừa và hỗ trợ điều trị mụn, bảo vệ da khỏi các tác nhân bên ngoài, ngăn ngừa kích ứng da, kiểm soát dầu thừa hiệu quả","GiaBan":"360000","SoLuong":"22","DonViTinh":"60 ml","HinhAnh":".\\img\\KemDuongAm_KR.png"},
    {"MaSP":"MGD","TenSP":"Gel trị mụn Megadou","LoaiSP":"Mỹ phẩm chức năng","ThanhPhan":"Hyaluronic Acid (HA), Vitamin A(Retinol), Vitamin B (Niacinamide), Vitamin C, Salicylic Acid(BHA), Glycolic Acid, Lactic Acid(AHA), Coenzyme Q10, Matrixyl 3000.","CongDung":"Ngoài có chức năng nuôi dưỡng, chăm sóc da như mỹ phẩm bình thường thì mỹ phẩm chức năng còn giúp điều trị , hỗ trợ diều trị các bệnh lý về da: vẩy nén, chàm, mụn, nám. Xử lý các vấn đề như mụn, viêm da cơ địa, nám, lão hóa, chàm, dị ứng,... vô cùng hiệu quả","GiaBan":"106000","SoLuong":"26","DonViTinh":"19 gam","HinhAnh":".\\img\\GelTriMun_MGD.png"},
    {"MaSP":"OB","TenSP":"Nước cân bằng da Obagi","LoaiSP":"Mỹ phẩm chức năng","ThanhPhan":"Hyaluronic Acid (HA), Vitamin A(Retinol), Vitamin B (Niacinamide), Vitamin C, Salicylic Acid(BHA), Glycolic Acid, Lactic Acid(AHA), Coenzyme Q10, Matrixyl 3000.","CongDung":"Ngoài có chức năng nuôi dưỡng, chăm sóc da như mỹ phẩm bình thường thì mỹ phẩm chức năng còn giúp điều trị , hỗ trợ diều trị các bệnh lý về da: vẩy nén, chàm, mụn, nám. Xử lý các vấn đề như mụn, viêm da cơ địa, nám, lão hóa, chàm, dị ứng,... vô cùng hiệu quả","GiaBan":"880000","SoLuong":"20","DonViTinh":"148 ml","HinhAnh":".\\img\\NuocCanBangDa_OB.png"},
    {"MaSP":"DE","TenSP":"Gel ngừa mụn Decumar","LoaiSP":"Mỹ phẩm chức năng","ThanhPhan":"Hyaluronic Acid (HA), Vitamin A(Retinol), Vitamin B (Niacinamide), Vitamin C, Salicylic Acid(BHA), Glycolic Acid, Lactic Acid(AHA), Coenzyme Q10, Matrixyl 3000.","CongDung":"Ngoài có chức năng nuôi dưỡng, chăm sóc da như mỹ phẩm bình thường thì mỹ phẩm chức năng còn giúp điều trị , hỗ trợ diều trị các bệnh lý về da: vẩy nén, chàm, mụn, nám. Xử lý các vấn đề như mụn, viêm da cơ địa, nám, lão hóa, chàm, dị ứng,... vô cùng hiệu quả","GiaBan":"77000","SoLuong":"21","DonViTinh":"20 ml","HinhAnh":".\\img\\GelNguaMun_De.png"},
    {"MaSP":"COS","TenSP":"Miếng dán mụn Cosrx","LoaiSP":"Mỹ phẩm chức năng","ThanhPhan":"Hyaluronic Acid (HA), Vitamin A(Retinol), Vitamin B (Niacinamide), Vitamin C, Salicylic Acid(BHA), Glycolic Acid, Lactic Acid(AHA), Coenzyme Q10, Matrixyl 3000.","CongDung":"Ngoài có chức năng nuôi dưỡng, chăm sóc da như mỹ phẩm bình thường thì mỹ phẩm chức năng còn giúp điều trị , hỗ trợ diều trị các bệnh lý về da: vẩy nén, chàm, mụn, nám. Xử lý các vấn đề như mụn, viêm da cơ địa, nám, lão hóa, chàm, dị ứng,... vô cùng hiệu quả","GiaBan":"7000","SoLuong":"17","DonViTinh":"1 cái","HinhAnh":".\\img\\MiengDanMun_Cos.png"},
    {"MaSP":"RP","TenSP":"Gel rửa mặt Roche-Posay","LoaiSP":"Mỹ phẩm chức năng","ThanhPhan":"Hyaluronic Acid (HA), Vitamin A(Retinol), Vitamin B (Niacinamide), Vitamin C, Salicylic Acid(BHA), Glycolic Acid, Lactic Acid(AHA), Coenzyme Q10, Matrixyl 3000.","CongDung":"Ngoài có chức năng nuôi dưỡng, chăm sóc da như mỹ phẩm bình thường thì mỹ phẩm chức năng còn giúp điều trị , hỗ trợ diều trị các bệnh lý về da: vẩy nén, chàm, mụn, nám. Xử lý các vấn đề như mụn, viêm da cơ địa, nám, lão hóa, chàm, dị ứng,... vô cùng hiệu quả","GiaBan":"175000","SoLuong":"19","DonViTinh":"50 ml","HinhAnh":".\\img\\GelRuaMat_RP.png"},
    {"MaSP":"TPL","TenSP":"Kem chống nắng Peacholic","LoaiSP":"Chống nắng","ThanhPhan":"Zin Oxide (ZnO), Titanium Oxide, Avobenzone, Oxybenzone, Octinoxate, Octisalate","CongDung":"Ngăn ngừa bức xạ UV, tránh lão hóa sớm, làm giảm nguy cơ cháy nắng, ngừa các vết sạm da, tăng cường sức khỏe da, sử dụng thay thế kem nền, hỗ trợ quần áo chống nắng.","GiaBan":"760000","SoLuong":"20","DonViTinh":"60 ml","HinhAnh":".\\img\\KemChongNang_TPL.png"},
    {"MaSP":"SL","TenSP":"Sữa chống nắng Sunplay","LoaiSP":"Chống nắng","ThanhPhan":"Zin Oxide (ZnO), Titanium Oxide, Avobenzone, Oxybenzone, Octinoxate, Octisalate","CongDung":"Ngăn ngừa bức xạ UV, tránh lão hóa sớm, làm giảm nguy cơ cháy nắng, ngừa các vết sạm da, tăng cường sức khỏe da, sử dụng thay thế kem nền, hỗ trợ quần áo chống nắng.","GiaBan":"182000","SoLuong":"13","DonViTinh":"55 gam","HinhAnh":".\\img\\SuaChongNang_SL.png"},
    {"MaSP":"FD","TenSP":"Gel chống nắng Fixderma","LoaiSP":"Chống nắng","ThanhPhan":"Zin Oxide (ZnO), Titanium Oxide, Avobenzone, Oxybenzone, Octinoxate, Octisalate","CongDung":"Ngăn ngừa bức xạ UV, tránh lão hóa sớm, làm giảm nguy cơ cháy nắng, ngừa các vết sạm da, tăng cường sức khỏe da, sử dụng thay thế kem nền, hỗ trợ quần áo chống nắng.","GiaBan":"243000","SoLuong":"23","DonViTinh":"70 ml","HinhAnh":".\\img\\GelChongNang_FD.png"},
    {"MaSP":"TO","TenSP":"Tẩy tế bào chết","LoaiSP":"Làm sạch da","ThanhPhan":"ALOE VERA, ARGAN OIL, BETA-HYDROXY ACID (BHA), CAFFEINE, COENZYME Q10 (COQ10), EMOLLIENT.","CongDung":"Giúp giảm lão hóa da, hạn chế tình trạng lỗ chân lông to, giúp các thành phần chống lão hóa hoạt động tốt, ngăn ngừa mất nước trên da, giảm sản sinh dầu thừa, loại bỏ bụi bẩn ngăn ngừa mụn.","GiaBan":"285000","SoLuong":"27","DonViTinh":"30 ml","HinhAnh":".\\img\\TayTeBaoChet_TO.png"},
    {"MaSP":"CE","TenSP":"Sữa rửa mặt Cetaphil","LoaiSP":"Làm sạch da","ThanhPhan":"ALOE VERA, ARGAN OIL, BETA-HYDROXY ACID (BHA), CAFFEINE, COENZYME Q10 (COQ10), EMOLLIENT.","CongDung":"Giúp giảm lão hóa da, hạn chế tình trạng lỗ chân lông to, giúp các thành phần chống lão hóa hoạt động tốt, ngăn ngừa mất nước trên da, giảm sản sinh dầu thừa, loại bỏ bụi bẩn ngăn ngừa mụn.","GiaBan":"271000","SoLuong":"22","DonViTinh":"500 ml","HinhAnh":".\\img\\SuaRuaMat_CE.png"},
    {"MaSP":"DP","TenSP":"Dầu tẩy trang Peacholic","LoaiSP":"Làm sạch da","ThanhPhan":"ALOE VERA, ARGAN OIL, BETA-HYDROXY ACID (BHA), CAFFEINE, COENZYME Q10 (COQ10), EMOLLIENT.","CongDung":"Giúp giảm lão hóa da, hạn chế tình trạng lỗ chân lông to, giúp các thành phần chống lão hóa hoạt động tốt, ngăn ngừa mất nước trên da, giảm sản sinh dầu thừa, loại bỏ bụi bẩn ngăn ngừa mụn.","GiaBan":"160000","SoLuong":"20","DonViTinh":"50 ml","HinhAnh":".\\img\\DauTayTrang_DP.png"},
    {"MaSP":"TM","TenSP":"Gel kẻ mắt Tony Moly","LoaiSP":"Trang điểm","ThanhPhan":"Chất nền, chất nhũ hóa, chất làm đặc, hoạt chất, chất làm mềm, chất tạo màu, chất làm mờ và làm sáng, mùi hương, chất bảo quản","CongDung":"Che đi những khuyết điểm, thay đổi hình ảnh, điều chỉnh khuôn mặt, thu hút người khác giới, yêu thương bản thân, củng cố sự tự tin.","GiaBan":"130000","SoLuong":"19","DonViTinh":"4 gam","HinhAnh":".\\img\\GelKeMat_TM.png"},
    {"MaSP":"MTF","TenSP":"Chì kẻ mắt Merzy","LoaiSP":"Trang điểm","ThanhPhan":"Chất nền, chất nhũ hóa, chất làm đặc, hoạt chất, chất làm mềm, chất tạo màu, chất làm mờ và làm sáng, mùi hương, chất bảo quản","CongDung":"Che đi những khuyết điểm, thay đổi hình ảnh, điều chỉnh khuôn mặt, thu hút người khác giới, yêu thương bản thân, củng cố sự tự tin.","GiaBan":"134000","SoLuong":"18","DonViTinh":"0.5 gam","HinhAnh":".\\img\\ChiKeMat_MTF.png"},
    {"MaSP":"3C","TenSP":"Son lì 3CE","LoaiSP":"Trang điểm","ThanhPhan":"Chất nền, chất nhũ hóa, chất làm đặc, hoạt chất, chất làm mềm, chất tạo màu, chất làm mờ và làm sáng, mùi hương, chất bảo quản","CongDung":"Che đi những khuyết điểm, thay đổi hình ảnh, điều chỉnh khuôn mặt, thu hút người khác giới, yêu thương bản thân, củng cố sự tự tin.","GiaBan":"347000","SoLuong":"15","DonViTinh":"3.5 gam","HinhAnh":".\\img\\SonLi_3C.png"},
    {"MaSP":"EH","TenSP":"Phấn mắt Etude Hause","LoaiSP":"Trang điểm","ThanhPhan":"Chất nền, chất nhũ hóa, chất làm đặc, hoạt chất, chất làm mềm, chất tạo màu, chất làm mờ và làm sáng, mùi hương, chất bảo quản","CongDung":"Che đi những khuyết điểm, thay đổi hình ảnh, điều chỉnh khuôn mặt, thu hút người khác giới, yêu thương bản thân, củng cố sự tự tin.","GiaBan":"300000","SoLuong":"20","DonViTinh":"1 cái","HinhAnh":".\\img\\PhanMat_EH.png"}];
    
var listDSLoaiSP= [{"LoaiSP":"Chăm sóc da","ThanhPhan":"Ceramides, Dimethicone, Retinoids, Kojic Acid, Hyaluronic Acid, Salicylic Acid, Vitamin C, Benzoyl Peroxide, Arbutin","CongDung":"Ngăn ngừa khô da, làm chậm tiến trình lão hóa, ngăn ngừa và hỗ trợ điều trị mụn, bảo vệ da khỏi các tác nhân bên ngoài, ngăn ngừa kích ứng da, kiểm soát dầu thừa hiệu quả"},
    {"LoaiSP":"Mỹ phẩm chức năng","ThanhPhan":"Hyaluronic Acid (HA), Vitamin A(Retinol), Vitamin B (Niacinamide), Vitamin C, Salicylic Acid(BHA), Glycolic Acid, Lactic Acid(AHA), Coenzyme Q10, Matrixyl 3000.","CongDung":"Ngoài có chức năng nuôi dưỡng, chăm sóc da như mỹ phẩm bình thường thì mỹ phẩm chức năng còn giúp điều trị , hỗ trợ diều trị các bệnh lý về da: vẩy nén, chàm, mụn, nám. Xử lý các vấn đề như mụn, viêm da cơ địa, nám, lão hóa, chàm, dị ứng,... vô cùng hiệu quả"},
    {"LoaiSP":"Chống nắng","ThanhPhan":"Zin Oxide (ZnO), Titanium Oxide, Avobenzone, Oxybenzone, Octinoxate, Octisalate","CongDung":"Ngăn ngừa bức xạ UV, tránh lão hóa sớm, làm giảm nguy cơ cháy nắng, ngừa các vết sạm da, tăng cường sức khỏe da, sử dụng thay thế kem nền, hỗ trợ quần áo chống nắng."},
    {"LoaiSP":"Làm sạch da","ThanhPhan":"ALOE VERA, ARGAN OIL, BETA-HYDROXY ACID (BHA), CAFFEINE, COENZYME Q10 (COQ10), EMOLLIENT.","CongDung":"Giúp giảm lão hóa da, hạn chế tình trạng lỗ chân lông to, giúp các thành phần chống lão hóa hoạt động tốt, ngăn ngừa mất nước trên da, giảm sản sinh dầu thừa, loại bỏ bụi bẩn ngăn ngừa mụn."},
    {"LoaiSP":"Trang điểm","ThanhPhan":"Chất nền, chất nhũ hóa, chất làm đặc, hoạt chất, chất làm mềm, chất tạo màu, chất làm mờ và làm sáng, mùi hương, chất bảo quản","CongDung":"Che đi những khuyết điểm, thay đổi hình ảnh, điều chỉnh khuôn mặt, thu hút người khác giới, yêu thương bản thân, củng cố sự tự tin."}]; 
localStorage.setItem('DSSP',JSON.stringify(listDSSP)) ;
localStorage.setItem('DSLoaiSP',JSON.stringify(listDSLoaiSP));
render();
function SanPham(MaSP,TenSP,HinhAnh,LoaiSP,SoLuong,DungTich,GiaBan,ThanhPhan,CongDung){ //DungTich==DonViTinh
    this.MaSP=MaSP;
    this.TenSP=TenSP;
    this.HinhAnh=HinhAnh;
    this.LoaiSP=LoaiSP;
    this.SoLuong=SoLuong;
    this.DonViTinh=DungTich;
    this.GiaBan=GiaBan;
    this.CongDung=CongDung;
    this.ThanhPhan=ThanhPhan;
}
function ChiTietSP(LoaiSP,CongDung,ThanhPhan){
    this.LoaiSP=LoaiSP;
    this.CongDung=CongDung;
    this.ThanhPhan=ThanhPhan;
}
function render(){
    let table=`<tr>
            <th>STT</th>
            <th>Mã sản phẩm</th>
            <th>Tên sản phẩm</th>
            <th>Hình ảnh</th>
            <th>Phân loại</th>
            <th>Số lượng</th>
            <th>Dung tích</th>
            <th>Giá tiền</th>
            <th>Tác vụ</th>
        </tr>
    `
    var i;
    for (i=0; i<listDSSP.length;i++)
        table += `<tr>
            <td>${i+1}</td>
            <td>${listDSSP[i].MaSP}</td>
            <td>${listDSSP[i].TenSP}</td>
            <td><img src="${fileInpToTextInp(listDSSP[i].HinhAnh)}" width="50px" height="50px"> </td>
            <td>${listDSSP[i].LoaiSP}</td>
            <td>${listDSSP[i].SoLuong}</td>
            <td>${listDSSP[i].DonViTinh}</td>
            <td>${new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(listDSSP[i].GiaBan)
        }</td>
            <td>
                <a href="#form-id"><i class="fa-solid fa-pen-to-square" onclick="showSP(listDSSP[${i}].MaSP)" style="cursor: pointer;"></i></a>
                <i class="fa-solid fa-xmark" onclick="removeSP(listDSSP[${i}].MaSP)" style="cursor: pointer;"></i>
            </td>
        </tr>
    `
    document.getElementById('myTable').innerHTML = table;

}
function fileInpToTextInp(event) {
    let fileChuk = event.split("\\");
    return '../img/' + fileChuk[fileChuk.length - 1];
}
function clear(){
    let MaSP = document.getElementById('masp').value='';
    let TenSP = document.getElementById('tensanpham').value='';
    let LoaiSP = document.getElementById('phanloai').value='';
    let GiaBan = document.getElementById('giatien').value='';
    let SoLuong = document.getElementById('soluong').value='';
    let DungTich = document.getElementById('dungtich').value='';
    let HinhAnh = document.getElementById('hinhanh').value='';
    let CongDung = document.getElementById('congdung').value='';
    let ThanhPhan = document.getElementById('thanhphan').value='';
}

function addSP(){
        let MaSP = document.getElementById('masp').value;
        let TenSP = document.getElementById('tensanpham').value;
        let LoaiSP = document.getElementById('phanloai').value;
        let GiaBan = document.getElementById('giatien').value;
        let SoLuong = document.getElementById('soluong').value;
        let DungTich = document.getElementById('dungtich').value;
        let event = document.getElementById('hinhanh').value;
        let HinhAnh = fileInpToTextInp(event);
        let CongDung = document.getElementById('congdung').value;
        let ThanhPhan = document.getElementById('thanhphan').value;
        Validator({
            form: '#form-id',
            formGroupSelector: '.form-group',
            errorSelector: '.form-massage',
            rules: [
                Validator.isRequired('#masp','Vui lòng nhập mã sản phẩm' ),
                Validator.isIDProduct('#masp',function () {
                    return document.querySelector('#form-id #masp').value;
                },'Mã sản phẩm đã tồn tại'),
                Validator.isIMG('#hinhanh','Vui lòng upload hình ảnh'),
                Validator.isRequired('#tensanpham','Vui lòng nhập tên sản phẩm'),
                Validator.isRequired('#giatien', 'Vui lòng nhập giá tiền'),
                Validator.isRequired('#soluong',' Vui lòng nhập số lượng'),
                Validator.isRequired('#dungtich',' Vui lòng nhập dung tích'),
                Validator.isRequired('#congdung','Vui lòng nhập công dụng'),
                Validator.isRequired('#thanhphan','Vui lòng nhập những thành phần'),
            ],
            onSubmit: function () {
                let sanpham = new SanPham(MaSP,TenSP,HinhAnh,LoaiSP,SoLuong,DungTich,GiaBan,ThanhPhan,CongDung);
                let chitietSP= new ChiTietSP(LoaiSP,CongDung,ThanhPhan);
                listDSSP.push(sanpham);
                listDSLoaiSP.push(chitietSP);
                render();
                clear();
                localStorage.setItem('DSSP',JSON.stringify(listDSSP));
                localStorage.setItem('DSLoaiSP',JSON.stringify(listDSLoaiSP));

            }
        })
}
function removeSP(iD) {
    if (confirm('Bạn có muốn xoá không?')) {
        for (let i = 0; i < listDSSP.length; i++)
            if (listDSSP[i].MaSP === iD) {
                listDSSP.splice(i, 1);
                localStorage.setItem('DSSP',JSON.stringify(listDSSP));
                localStorage.setItem('DSLoaiSP',JSON.stringify(listDSLoaiSP));
                render();
            }
    }
}
function showSP(iD){
    var i;
    for(i=0; i<listDSSP.length;i++){
        if (listDSSP[i].MaSP === iD) {

            document.getElementById('masp').value=listDSSP[i].MaSP;
            document.getElementById('index').value= i;
            document.getElementById('tensanpham').value =listDSSP[i].TenSP;
            document.getElementById('phanloai').value=listDSSP[i].LoaiSP;
            document.getElementById('giatien').value=listDSSP[i].GiaBan;
            document.getElementById('soluong').value=listDSSP[i].SoLuong;
            document.getElementById('dungtich').value=listDSSP[i].DonViTinh;
            document.getElementById('congdung').value=listDSSP[i].CongDung;
            document.getElementById('thanhphan').value = listDSSP[i].ThanhPhan;
            document.getElementById('hinhanh').value = listDSSP[i].HinhAnh;
            let event = document.getElementById('hinhanh').value;
            let HinhAnh = fileInpToTextInp(event);
            document.getElementById('buttonThemSP').style.display="none";
            document.getElementById('buttonCapNhap').style.display="inline-block";
            console.log(listDSSP[i]);
            Validator({
                form: '#form-id',
                formGroupSelector: '.form-group',
                errorSelector: '.form-massage',
                rules: [
                    Validator.isRequired('#masp','Vui lòng nhập mã sản phẩm' ),
                    // Validator.isEditIDProduct('#masp',function () {
                    //     return document.querySelector('#index').value;
                    // },'Mã sản phẩm trùng lặp với mã khác'),
                    Validator.isRequired('#tensanpham','Vui lòng nhập tên sản phẩm'),
                    Validator.isRequired('#giatien', 'Vui lòng nhập giá tiền'),
                    Validator.isRequired('#soluong',' Vui lòng nhập số lượng'),
                    Validator.isRequired('#dungtich',' Vui lòng nhập dung tích'),
                    Validator.isRequired('#congdung','Vui lòng nhập công dụng'),
                    Validator.isRequired('#thanhphan','Vui lòng nhập những thành phần'),
                ],
                onSubmit: function () {

                    let sanpham = new SanPham(MaSP,TenSP,HinhAnh,LoaiSP,SoLuong,DungTich,GiaBan,ThanhPhan,CongDung);
                    let chitietSP= new ChiTietSP(LoaiSP,CongDung,ThanhPhan);

                    render();
                    clear();
                    // localStorage.setItem('DSSP',JSON.stringify(listDSSP));
                    // localStorage.setItem('DSLoaiSP',JSON.stringify(listDSLoaiSP));

                }
            });

        }

    }

}

function changeSP(){
    if (confirm('Bạn có muốn cập nhập sản phẩm này không?')) {
        let index = document.getElementById('index').value;
        let event = document.getElementById('hinhanh').value;
        let HinhAnh = fileInpToTextInp(event);
        listDSSP[index] = {
            MaSP: document.getElementById('masp').value,
            TenSP: document.getElementById('tensanpham').value,
            HinhAnh: HinhAnh,
            LoaiSP: document.getElementById('phanloai').value,
            SoLuong: document.getElementById('soluong').value,
            DonViTinh: document.getElementById('dungtich').value,
            GiaBan: document.getElementById('giatien').value,
            CongDung: document.getElementById('congdung').value,
            ThanhPhan: document.getElementById('thanhphan').value
        }
        localStorage.setItem('DSSP',JSON.stringify(listDSSP));
        localStorage.setItem('DSLoaiSP',JSON.stringify(listDSLoaiSP));
        render();
        clear();
    }
}
function search(){
    let valueSearchInput = document.getElementById('search').value;
    let nameSearch = listDSSP.filter(value=>{
        let arrName = value.TenSP.toUpperCase().includes(valueSearchInput.toUpperCase());
        let arrID = value.MaSP.toUpperCase().includes(valueSearchInput.toUpperCase());
        let arrGia = value.GiaBan.toUpperCase().includes(valueSearchInput.toUpperCase());
        let arrPL = value.LoaiSP.toUpperCase().includes(valueSearchInput.toUpperCase());

    })
}
function removeDuplicates(array1,array2){
    let array=array2;
    let count=[];
    for (let i=0; i<array1.length;i++) {
        for (let j = 0; j < array2.length; j++) {
            if (array1[i] === array2[j])
                count+=j;

        }
    }
}







